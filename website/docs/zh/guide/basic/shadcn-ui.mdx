# shadcn/ui

[shadcn/ui](https://ui.shadcn.com/) 是一组基于 Radix UI 和 Tailwind CSS 构建的可复用组件集合。本指南介绍如何在 Rspress 文档站点中使用 shadcn/ui 组件。

## 前提条件

在开始之前，请确保已经在项目中配置好 [Tailwind CSS](/zh/guide/basic/tailwind-css)。

## 安装依赖

import { PackageManagerTabs } from '@theme';

<PackageManagerTabs command="add class-variance-authority clsx tailwind-merge lucide-react -D" />

## 配置路径别名

在 `rspress.config.ts` 中添加路径别名，以便正确解析 shadcn/ui 组件：

```ts title="rspress.config.ts"
import * as path from 'node:path';
import { defineConfig } from '@rspress/core';

export default defineConfig({
  root: path.join(__dirname, 'doc'),
  globalStyles: path.join(__dirname, 'tailwind.css'),
  builderConfig: {
    source: {
      alias: {
        '@': path.join(__dirname, 'src'),
      },
    },
  },
});
```

## 添加工具函数

创建 shadcn/ui 组件使用的 `cn` 工具函数：

```ts title="src/lib/utils.ts"
import { type ClassValue, clsx } from 'clsx';
import { twMerge } from 'tailwind-merge';

export function cn(...inputs: ClassValue[]) {
  return twMerge(clsx(inputs));
}
```

## 添加组件

你可以从 [shadcn/ui 文档](https://ui.shadcn.com/docs/components) 手动复制组件代码到 `src/components/ui/` 目录中。

例如，创建一个 Button 组件：

```tsx title="src/components/ui/button.tsx"
import * as React from 'react';
import { cva, type VariantProps } from 'class-variance-authority';
import { cn } from '@/lib/utils';

const buttonVariants = cva(
  'inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors focus-visible:outline-none disabled:pointer-events-none disabled:opacity-50',
  {
    variants: {
      variant: {
        default: 'bg-primary text-primary-foreground hover:bg-primary/90',
        outline:
          'border border-input bg-background hover:bg-accent hover:text-accent-foreground',
      },
      size: {
        default: 'h-10 px-4 py-2',
        sm: 'h-9 rounded-md px-3',
        lg: 'h-11 rounded-md px-8',
      },
    },
    defaultVariants: {
      variant: 'default',
      size: 'default',
    },
  },
);

export interface ButtonProps
  extends
    React.ButtonHTMLAttributes<HTMLButtonElement>,
    VariantProps<typeof buttonVariants> {}

const Button = React.forwardRef<HTMLButtonElement, ButtonProps>(
  ({ className, variant, size, ...props }, ref) => {
    return (
      <button
        className={cn(buttonVariants({ variant, size, className }))}
        ref={ref}
        {...props}
      />
    );
  },
);
Button.displayName = 'Button';

export { Button, buttonVariants };
```

## 在 MDX 中使用

在 MDX 文件中导入并使用组件：

```mdx title="doc/index.mdx"
import { Button } from '@/components/ui/button';

# 我的页面

<Button>点击我</Button>
<Button variant="outline">边框按钮</Button>
```

:::tip
shadcn/ui 不是传统的 npm 包，而是一组可复制粘贴的组件集合，你可以完全掌控组件代码并按需自定义。
:::
