# è‡ªå®šä¹‰ä¸»é¢˜

1. å¯¹äº CSSï¼ŒRspress æä¾›äº† [CSS å˜é‡](#css-variables) å’Œ [BEM ç±»å](#bem-classname)è¿›è¡Œå®šåˆ¶ã€‚

2. å¯¹äº JS / Reactï¼ŒRspress åŸºäº ESM é‡å¯¼å‡ºè¦†ç›–å®ç°äº†ä¸€å¥—è¿è¡Œæ—¶æ¥å£ï¼Œæ”¯æŒå¯¹å†…ç½®ç»„ä»¶è¿›è¡Œä¿®æ”¹æˆ–æ›¿æ¢ï¼Œå®ç°è‡ªå·±çš„é¦–é¡µã€ä¾§è¾¹æ ã€æœç´¢ç»„ä»¶ç­‰ã€‚

   åœ¨æ­¤ä¹‹ä¸Šæœ‰ä¸¤ç§æ¨¡å¼ï¼š
   - [**wrap**](#wrap)ï¼šé€šè¿‡ props / æ’æ§½æ¥å¯¹ Rspress å†…ç½®çš„ç»„ä»¶è¿›è¡Œ **åŒ…è£…** å¹¶å¢å¼ºã€‚
   - [**eject**](#eject)ï¼šé€šè¿‡ [`rspress eject`](../../api/commands.mdx#rspress-eject) å‘½ä»¤å°†æºç  **æ‹·è´** åˆ°æœ¬åœ°ç›´æ¥ä¿®æ”¹å¹¶è¦†ç›–ã€‚

ä¸‹é¢ä¼šæ ¹æ®ä¸»é¢˜å®šåˆ¶åŒ–çš„ç¨‹åº¦ä¼šä¾æ¬¡è¿›è¡Œä»‹ç»ã€‚

## CSS å˜é‡ \{#css-variables}

Rspress æš´éœ²äº†ä¸€äº›å¸¸ç”¨çš„ CSS å˜é‡ï¼Œç›¸æ¯”é‡å†™ Rspress å†…ç½®çš„ React ç»„ä»¶ï¼Œè¦†ç›– CSS å˜é‡å®ç°å®šåˆ¶åŒ–æ›´ç®€å•ä¹Ÿæ›´æ˜“ç»´æŠ¤ã€‚ä½ å¯ä»¥åœ¨ [UI - CSS å˜é‡](../../ui/vars.mdx) é¡µé¢æŸ¥çœ‹è¿™äº› CSS å˜é‡ï¼Œå¹¶é€šè¿‡ï¼š

import { Tabs, Tab } from '@theme';

<Tabs>
<Tab label="theme/index.tsx">

```tsx
import './index.css';
export * from '@rspress/core/theme-original';
```

</Tab>
<Tab label="theme/index.css">
```css
/* å¤åˆ¶ CSS å˜é‡ä»£ç åˆ°è¿™é‡Œæ¥è¿›è¡Œæ ·å¼è¦†ç›– */
```
</Tab>
</Tabs>

## BEM ç±»å \{#bem-classname}

Rspress å†…ç½®ç»„ä»¶å‡ä½¿ç”¨ BEM å‘½åè§„èŒƒã€‚ä½ å¯ä»¥ä½¿ç”¨è¿™äº›ç±»åè¿›è¡Œæ ·å¼è¦†ç›–ï¼Œè¦†ç›–æ–¹å¼å’Œ [CSS å˜é‡](#css-variables) ä¸€è‡´ã€‚

```css
.rp-[component-name]__[element-name]--[modifier-name] {
  /* æ ·å¼ */
}
```

ä¾‹å¦‚ï¼š

```css
.rp-nav {
}
.rp-link {
}
.rp-tabs {
}
.rp-codeblock {
}
.rp-codeblock__title {
}
.rp-codeblock__description {
}
.rp-nav-menu__item,
.rp-nav-menu__item--active {
}
```

## `theme/index.tsx`ï¼šåˆ©ç”¨ ESM é‡å¯¼å‡ºè¦†ç›–å†…ç½®ç»„ä»¶ \{#reexport}

é»˜è®¤æƒ…å†µä¸‹ï¼Œä½ éœ€è¦åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ª `theme` ç›®å½•ï¼Œç„¶ååœ¨ `theme` ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ª `index.ts` æˆ–è€… `index.tsx` æ–‡ä»¶ï¼Œè¯¥æ–‡ä»¶ç”¨äºå¯¼å‡ºä¸»é¢˜ç»„ä»¶ã€‚

```tree
â”œâ”€â”€ docs
â”œâ”€â”€ theme
â”‚   â””â”€â”€ index.tsx
â””â”€â”€ rspress.config.ts
```

ä½ å¯ä»¥ä½¿ç”¨ `@rspress/core/theme-original` çš„å†…ç½®ç»„ä»¶ï¼Œæ¥ç¼–å†™ `theme/index.tsx` æ–‡ä»¶:

```tsx title="theme/index.tsx"
import { Layout as BasicLayout } from '@rspress/core/theme-original';

const Layout = () => <BasicLayout beforeNavTitle={<div>some content</div>} />;

export { Layout }; //[!code highlight]
export * from '@rspress/core/theme-original'; //[!code highlight]
```

é€šè¿‡ **ESM é‡å¯¼å‡º** è¦†å†™å†…ç½®çš„ç»„ä»¶ï¼Œæ‰€æœ‰ Rspress å†…éƒ¨å¼•ç”¨çš„å†…ç½®ç»„ä»¶éƒ½ä¼šä¼˜å…ˆä½¿ç”¨ä½ é‡å¯¼å‡ºçš„ç‰ˆæœ¬ã€‚

:::tip æç¤º

ä»…åœ¨è‡ªå®šä¹‰ä¸»é¢˜çš„æ—¶å€™ä½¿ç”¨ `@rspress/core/theme-original`

```tree
â”œâ”€â”€ docs
â”‚   â””â”€â”€ index.mdx <-- "@rspress/core/theme"
â”œâ”€â”€ theme
â”‚   â””â”€â”€ index.tsx <-- "@rspress/core/theme-original"
â””â”€â”€ rspress.config.ts
```

1. `docs` ç›®å½•ä¸‹ï¼Œä½¿ç”¨ `@rspress/core/theme`ï¼Œ`@rspress/core/theme` æŒ‡å‘ä½ çš„ `theme/index.tsx`ã€‚

2. `theme` ç›®å½•ä¸‹ï¼Œä½¿ç”¨ `@rspress/core/theme-original`ï¼Œ`@rspress/core/theme-original` æ°¸è¿œæŒ‡å‘ Rspress å†…ç½®çš„ä¸»é¢˜ç»„ä»¶ã€‚

:::

## Wrapï¼šåœ¨é‡å¯¼å‡ºçš„åŸºç¡€ä¸Šä¼  props/æ’æ§½ \{#wrap}

Wrap æŒ‡åœ¨é‡å¯¼å‡ºçš„ç»„ä»¶ä¸Šå¢åŠ  propsã€‚ä¸‹é¢æ˜¯ä¸€ä¸ªä¾‹å­ï¼Œåœ¨å¯¼èˆªæ æ ‡é¢˜å‰é¢æ’å…¥ä¸€äº›å†…å®¹ï¼š

<Tabs>
<Tab label="theme/index.tsx">

```tsx
import { Layout as BasicLayout } from '@rspress/core/theme-original';
import { useI18n } from '@rspress/core';

const Layout = () => {
  const t = useI18n();
  return <BasicLayout beforeNavTitle={<div>{t('some content')}</div>} />;
};

export { Layout };
export * from '@rspress/core/theme-original';
```

</Tab>

<Tab label="i18n.json">

```json
{
  "some content": {
    "zh": "ä¸€äº›å†…å®¹",
    "en": "some content"
  }
}
```

</Tab>

</Tabs>

### Layout æ’æ§½

`Layout` ç»„ä»¶è®¾è®¡äº†ä¸€ç³»åˆ—çš„ props æ”¯æŒæ’æ§½å…ƒç´ ï¼Œä½ å¯ä»¥é€šè¿‡è¿™äº› props æ¥æ‰©å±•é»˜è®¤ä¸»é¢˜çš„å¸ƒå±€ï¼š

<details>

```tsx title="theme/index.tsx"
import {
  Layout as BasicLayout,
  getCustomMDXComponent as basicGetCustomMDXComponent,
} from '@rspress/core/theme-original';

// ä»¥ä¸‹å±•ç¤ºæ‰€æœ‰çš„ Props
const Layout = () => (
  <BasicLayout
    /* Home é¡µ Hero éƒ¨åˆ†ä¹‹å‰ */
    beforeHero={<div>beforeHero</div>}
    /* Home é¡µ Hero éƒ¨åˆ†ä¹‹å */
    afterHero={<div>afterHero</div>}
    /* Home é¡µ Features éƒ¨åˆ†ä¹‹å‰ */
    beforeFeatures={<div>beforeFeatures</div>}
    /* Home é¡µ Features éƒ¨åˆ†ä¹‹å */
    afterFeatures={<div>afterFeatures</div>}
    /* æ­£æ–‡é¡µ Footer éƒ¨åˆ†ä¹‹å‰ */
    beforeDocFooter={<div>beforeDocFooter</div>}
    /* æ­£æ–‡é¡µ Footer éƒ¨åˆ†ä¹‹å */
    afterDocFooter={<div>afterDocFooter</div>}
    /* æ­£æ–‡é¡µæœ€å‰é¢ */
    beforeDoc={<div>beforeDoc</div>}
    /* æ­£æ–‡é¡µæœ€åé¢ */
    afterDoc={<div>afterDoc</div>}
    /* æ–‡æ¡£å†…å®¹å‰é¢ */
    beforeDocContent={<div>beforeDocContent</div>}
    /* æ–‡æ¡£å†…å®¹åé¢ */
    afterDocContent={<div>afterDocContent</div>}
    /* å¯¼èˆªæ ä¹‹å‰ */
    beforeNav={<div>beforeNav</div>}
    /* å¯¼èˆªæ ä¹‹å */
    afterNav={<div>afterNav</div>}
    /* å·¦ä¸Šè§’å¯¼èˆªæ æ ‡é¢˜ä¹‹å‰ */
    beforeNavTitle={<span>ğŸ˜„</span>}
    /* å¯¼èˆªæ æ ‡é¢˜ */
    navTitle={<div>Custom Nav Title</div>}
    /* å·¦ä¸Šè§’å¯¼èˆªæ æ ‡é¢˜ä¹‹å */
    afterNavTitle={<div>afterNavTitle</div>}
    /* å¯¼èˆªæ èœå•ä¹‹å‰ */
    beforeNavMenu={<div>beforeNavMenu</div>}
    /* å¯¼èˆªæ èœå•ä¹‹å */
    afterNavMenu={<div>afterNavMenu</div>}
    /* å·¦ä¾§ä¾§è¾¹æ ä¸Šé¢ */
    beforeSidebar={<div>beforeSidebar</div>}
    /* å·¦ä¾§ä¾§è¾¹æ ä¸‹é¢ */
    afterSidebar={<div>afterSidebar</div>}
    /* å³ä¾§å¤§çº²æ ä¸Šé¢ */
    beforeOutline={<div>beforeOutline</div>}
    /* å³ä¾§å¤§çº²æ ä¸‹é¢ */
    afterOutline={<div>afterOutline</div>}
    /* æ•´ä¸ªé¡µé¢æœ€é¡¶éƒ¨ */
    top={<div>top</div>}
    /* æ•´ä¸ªé¡µé¢æœ€åº•éƒ¨ */
    bottom={<div>bottom</div>}
    /* è‡ªå®šä¹‰ MDX ç»„ä»¶ */
    components={{
      h1: (props) => {
        const { h1: OriginalH1, p: OriginalP } = basicGetCustomMDXComponent();
        return (
          <>
            <OriginalH1 {...props} />
            <OriginalP>
              This is a custom paragraph added after every H1 heading.
            </OriginalP>
          </>
        );
      },
    }}
  />
);

export { Layout };
// é‡å¯¼å‡º
export * from '@rspress/core/theme-original';
```

</details>

## Ejectï¼šå¯¹æºç ç›´æ¥ä¿®æ”¹ \{#eject}

Eject æŒ‡å°† Rspress å•ä¸ªå†…ç½®ç»„ä»¶çš„æºç æ‹·è´åˆ°æœ¬åœ°ï¼Œç„¶åç›´æ¥æ”¹åŠ¨ï¼Œæ­¥éª¤å¦‚ä¸‹ï¼š

1. æ‰§è¡Œ CLI [`rspress eject [component]`](../../api/commands.mdx#rspress-eject)ï¼ŒRspress ä¼šå°†æŒ‡å®šç»„ä»¶çš„æºç  eject åˆ°æœ¬åœ° `theme/components` ç›®å½•ï¼Œä¸ä¼š eject ä¾èµ–ã€‚

2. æ›´æ–° `theme/index.tsx` é‡å¯¼å‡ºï¼š

```tsx title="theme/index.tsx"
// å‡è®¾ä½  eject äº† DocFooter ç»„ä»¶
export { DocFooter } from './components/DocFooter';
export * from '@rspress/core/theme-original';
```

3. ä»»æ„ä¿®æ”¹ `theme/components/DocFooter.tsx`ï¼Œä½¿å®ƒæ»¡è¶³ä½ çš„éœ€è¦ã€‚

Rspress çš„ç»„ä»¶ç»è¿‡ç»†ç²’åº¦çš„æ‹†åˆ†ï¼Œä½ å¯åœ¨ [å†…ç½®ç»„ä»¶](/ui/components/) ä¸­çœ‹åˆ°å“ªäº›ç»„ä»¶é€‚åˆ ejectã€‚

:::warning ä½ æ˜¯å¦çœŸçš„éœ€è¦ ejectï¼Ÿ

eject ä¼šå¢åŠ ä¸€å®šçš„ç»´æŠ¤æˆæœ¬ï¼Œå› ä¸º Rspress æœªæ¥ç‰ˆæœ¬æ›´æ–°æ—¶ï¼Œè¿™äº›è¢« eject çš„ç»„ä»¶ä¸ä¼šè‡ªåŠ¨è·å¾—æ›´æ–°ï¼Œä½ éœ€è¦æ‰‹åŠ¨å¯¹æ¯”å¹¶åˆå¹¶å˜æ›´ã€‚

è¯·å…ˆæŸ¥çœ‹ wrap èƒ½å¦æ»¡è¶³ä½ çš„éœ€æ±‚ï¼Œåªæœ‰åœ¨ wrap æ— æ³•æ»¡è¶³ä½ çš„éœ€æ±‚æ—¶ï¼Œæ‰è€ƒè™‘ ejectã€‚

:::
